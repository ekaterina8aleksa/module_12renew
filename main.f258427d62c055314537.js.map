{"version":3,"sources":["webpack:///./tmpl/countryInfo.hbs","webpack:///./js/refs.js","webpack:///./js/fetchCountries.js","webpack:///./js/renderInfo.js","webpack:///./tmpl/dropdown.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","lambda","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","program","noop","dropdown","document","querySelector","inputSearch","infoContainer","fetchCountries","searchQuery","fetch","then","response","json","catch","error","console","log","PNotify","defaults","styling","icons","classList","add","addEventListener","debounce","event","preventDefault","innerHTML","removeAll","userInfo","target","value","length","remove","markup","reduce","acc","country","dropdownItem","insertAdjacentHTML","textContent","success","title","text","countryInfo","input","list","nodeName","countryInList"],"mappings":"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","file":"main.f258427d62c055314537.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"language-item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"\\r\\n        </li>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<table>\\r\\n    <tbody>\\r\\n        <tr class=\\\"row\\\" >\\r\\n<td class = \\\"name\\\" colspan= \\\"3\\\" ><h2 class=\\\"country-name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":58},\"end\":{\"line\":4,\"column\":66}}}) : helper)))\n    + \"</h2></td>\\r\\n</tr>\\r\\n<tr class=\\\"row\\\">\\r\\n<td class=\\\"name\\\" ><h3>Capital:</h3></td>\\r\\n<td class=\\\"name\\\" ><h3>Population:</h3></td>\\r\\n<td class=\\\"name\\\" ><h3>Languages:</h3></td>\\r\\n</tr>\\r\\n<tr class=\\\"row\\\">\\r\\n<td class=\\\"value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"capital\") || (depth0 != null ? lookupProperty(depth0,\"capital\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":18},\"end\":{\"line\":12,\"column\":29}}}) : helper)))\n    + \"</td>\\r\\n<td class=\\\"value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"population\") || (depth0 != null ? lookupProperty(depth0,\"population\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":18},\"end\":{\"line\":13,\"column\":32}}}) : helper)))\n    + \"</td>\\r\\n<td class=\\\"value\\\">\\r\\n    <ul class=\\\"languages\\\">\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":26},\"end\":{\"line\":16,\"column\":22}}})) != null ? stack1 : \"\")\n    + \"\\r\\n    </ul>\\r\\n</tr>\\r\\n<tr  class=\\\"row\\\">\\r\\n<td colspan= \\\"3\\\" class=\\\"country-flag\\\"> <img  src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"flag\") || (depth0 != null ? lookupProperty(depth0,\"flag\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":50},\"end\":{\"line\":20,\"column\":58}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":65},\"end\":{\"line\":20,\"column\":73}}}) : helper)))\n    + \"\\\" /> </td>\\r\\n</tr>\\r\\n    </tbody>\\r\\n</table>\\r\\n\\r\\n\";\n},\"useData\":true});","const dropdown = document.querySelector('#drop-list');\r\nconst inputSearch = document.querySelector('#js-input');\r\nconst infoContainer = document.querySelector('#js-container');\r\n\r\nexport { dropdown, inputSearch, infoContainer };\r\n","function fetchCountries(searchQuery) {\r\n    if (searchQuery) {\r\n        return fetch(\r\n            `https://restcountries.eu/rest/v2/name/${searchQuery}?fields=name;population;flag;languages;capital`,\r\n        )\r\n            .then(response => response.json())\r\n            .catch(error => console.log(error));\r\n    }\r\n}\r\n\r\nexport default fetchCountries;\r\n","import debounce from 'lodash.debounce';\r\nimport PNotify from 'pnotify/dist/es/PNotify';\r\nimport PNotifyButtons from 'pnotify/dist/es/PNotifyButtons';\r\nimport 'pnotify/dist/es/PNotifyStyleMaterial.js';\r\nimport 'material-design-icons/iconfont/material-icons.css';\r\nPNotify.defaults.styling = 'material';\r\nPNotify.defaults.icons = 'material';\r\n\r\nimport { dropdown, inputSearch, infoContainer } from './refs';\r\n\r\nimport fetchCountries from './fetchCountries';\r\n\r\nimport countryInfo from '../tmpl/countryInfo.hbs';\r\nimport dropdownItem from '../tmpl/dropdown.hbs';\r\n\r\ndropdown.classList.add('hidden');\r\n\r\nfunction resetRequest() {\r\n    dropdown.innerHTML = '';\r\n    infoContainer.innerHTML = '';\r\n    PNotify.removeAll();\r\n}\r\n\r\nfunction renderInfo(event) {\r\n    event.preventDefault();\r\n    resetRequest();\r\n\r\n    const userInfo = event.target.value;\r\n    inputSearch.innerHTML = '';\r\n\r\n    if (userInfo.length >= 1) {\r\n        fetchCountries(userInfo).then(data => {\r\n            if (data.length >= 2 && data.length <= 10) {\r\n                dropdown.classList.remove('hidden');\r\n                const markup = data.reduce(\r\n                    (acc, country) => acc + dropdownItem(country),\r\n                    '',\r\n                );\r\n                return dropdown.insertAdjacentHTML('beforeend', markup);\r\n            }\r\n\r\n            if (data.length === 1) {\r\n                dropdown.classList.add('hidden');\r\n                dropdown.textContent = '';\r\n                inputSearch.innerHTML = '';\r\n                PNotify.success({\r\n                    title: 'Found!',\r\n                    text: 'Super!',\r\n                });\r\n                return (infoContainer.innerHTML = countryInfo(...data));\r\n            }\r\n\r\n            PNotify.error({\r\n                title: 'Oh No!',\r\n                text:\r\n                    'Too many matches found. Please enter a more specific query',\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\nfunction countryInList(event, input, list) {\r\n    if (event.target.nodeName === 'LI') {\r\n        input.value = event.target.textContent;\r\n        list.innerHTML = '';\r\n        list.classList.add('hidden');\r\n\r\n        fetchCountries(input.value).then(data => {\r\n            input.value = '';\r\n            return (infoContainer.innerHTML = countryInfo(...data));\r\n        });\r\n    }\r\n}\r\n\r\ninputSearch.addEventListener('input', debounce(renderInfo, 500));\r\ndropdown.addEventListener('click', event =>\r\n    countryInList(event, inputSearch, dropdown),\r\n);\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"dropdown__item\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":27},\"end\":{\"line\":1,\"column\":35}}}) : helper)))\n    + \"</li>\";\n},\"useData\":true});"],"sourceRoot":""}